version: 2

models:
  - name: DimClubs
    description: "Dimension table for clubs information"
    config:
      materialized: table
      unique_key: 'DimClubId'
      contracts:
        enforced: true
        columns:
          - name: DimClubId
            data_type: integer
            constraints: ["primary key", "not null"]
          - name: ClubNumber
            data_type: varchar(10)
            constraints: ["not null", "unique"]
          - name: ClubName
            data_type: varchar(100)
            constraints: ["not null"]
          - name: Country
            data_type: varchar(50)
            constraints: ["not null"]
          - name: Zone
            data_type: varchar(20)
          - name: Status
            data_type: varchar(1)
            constraints: ["not null"]
          - name: CreateDate
            data_type: timestamp
            constraints: ["not null"]
          - name: UpdateDate
            data_type: timestamp
            constraints: ["not null"]
    columns:
      - name: DimClubId
        description: "Auto-incremental primary key for clubs dimension"
      - name: ClubNumber
        description: "Business key - unique identifier for the club"
      - name: ClubName
        description: "Name of the club"
      - name: Country
        description: "Country where the club is located"
      - name: Zone
        description: "Geographic zone of the club"
      - name: Status
        description: "Status of the club (Active/Inactive)"
      - name: CreateDate
        description: "Record creation timestamp"
      - name: UpdateDate
        description: "Record last update timestamp"
    tests:
      # Data Quality Tests (not enforced by contracts)
      - accepted_values:
          column_name: Status
          values: ['A', 'I']

  - name: DimDates
    description: "Dimension table for dates with calendar attributes"
    config:
      materialized: table
      unique_key: 'DimDateId'
      contracts:
        enforced: true
        columns:
          - name: DimDateId
            data_type: integer
            constraints: ["primary key", "not null"]
          - name: Date
            data_type: date
            constraints: ["not null", "unique"]
          - name: Year
            data_type: integer
            constraints: ["not null"]
          - name: Month
            data_type: integer
            constraints: ["not null"]
          - name: Day
            data_type: integer
            constraints: ["not null"]
          - name: Quarter
            data_type: integer
            constraints: ["not null"]
          - name: Week
            data_type: integer
            constraints: ["not null"]
          - name: DayOfWeek
            data_type: integer
            constraints: ["not null"]
          - name: IsWeekend
            data_type: boolean
            constraints: ["not null"]
          - name: IsHoliday
            data_type: boolean
            constraints: ["not null"]
          - name: CreateDate
            data_type: timestamp
            constraints: ["not null"]
          - name: UpdateDate
            data_type: timestamp
            constraints: ["not null"]
    columns:
      - name: DimDateId
        description: "Auto-incremental primary key for dates dimension"
      - name: Date
        description: "The date value - business key"
      - name: Year
        description: "Year component of the date"
      - name: Month
        description: "Month component of the date (1-12)"
      - name: Day
        description: "Day component of the date (1-31)"
      - name: Quarter
        description: "Quarter of the year (1-4)"
      - name: Week
        description: "Week number of the year"
      - name: DayOfWeek
        description: "Day of the week (1=Monday, 7=Sunday)"
      - name: IsWeekend
        description: "Boolean indicating if the date is a weekend"
      - name: IsHoliday
        description: "Boolean indicating if the date is a holiday"
      - name: CreateDate
        description: "Record creation timestamp"
      - name: UpdateDate
        description: "Record last update timestamp"
